<div class="container-fluid">
  <div class="links-container col-xs-12 col-md-10">
    <h1 class="text-center">Links</h1>
    <ol>
      <% @links.each do |l| %>
        <div class="post">
          <div class="col-xs-1 status">
            <div class="col-xs-6 rank">
              <p><%= @links.index{|x|x.id == l.id} + 1 %></p>
            </div>
            <div class="voting col-xs-6">
              <div class=" col-xs-12 upvote">
              <%= link_to votes_path(link_id:l.id, value:1), class:"center-block", method:'post'  do %>
                <span class="glyphicon glyphicon-arrow-up"></span>
              <% end %>
              </div>
              <div class=" col-xs-12 votes">
                <p><%= l.votes.sum(:value) %><p>
              </div>
              <div class=" col-xs-12 downvote">
              <%= link_to votes_path(link_id:l.id, value:-1), class:"center-block", method:'post'  do %>
                <span class="glyphicon glyphicon-arrow-down"></span>
              <% end %>
              </div>
            </div>
          </div>
          <div class="container link-info">
            <div class="col-xs-9 title">
              <%= link_to l.title, use_link_path(link_id:l.id), method:'post' %>
            </div>
            <div class="col-xs-9 author">
              Submitted by <%= l.user.username %> on <%=l.created_at.strftime("%B %d\, %Y  at %I\:%M %p") %>
              <%= link_to "Delete Post", link_path(id:l.id), method:"delete" %>
              <%= link_to "Edit Post", edit_link_path(id:l.id) %>
            </div>
          </div>
        </div>
      <% end %>
    </ol>
  </div>
  <div class="users-container col-xs-12 col-md-2">
    <h1 class="text-center"> Users </h1>
    <ol>
    <% User.all.sort_by{|u| u.links.count}.reverse.each do |u| %>
      <li>
        <%= link_to u.username, user_path(id:u.id) %>
      </li>
    <% end %>
    </ol>
  </div>
</div>
